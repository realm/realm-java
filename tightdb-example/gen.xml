<?xml version="1.0"?>
<?eclipse.ant.import?>
<project name="tightdb-example-gen" basedir="." default="generate-sources">
	
	<property name="srcdir" value="src/main/java" />
	<property name="destdir" value="target/generated" />
	<property name="version" value="1.6" />

    <path id="code-gen-classpath">
        <pathelement location="lib/tightdb.jar"/>
        <pathelement location="lib-sqlite/sqlite4java.jar"/>
    </path>
		
	<target name="generate-sources">
		<echo message="${ant.project.name}: ${ant.file}" />
		<javac source="${version}" target="${version}" srcdir="${srcdir}">
			<classpath refid="code-gen-classpath"/>
			<compilerarg value="-processor" />
			<compilerarg value="com.tightdb.generator.CodeGenProcessor" />
			<compilerarg value="-processorpath" />
			<compilerarg value="lib/tightdb-devkit.jar" />
			<compilerarg value="-s" />
			<compilerarg value="${destdir}" />
			<compilerarg value="-proc:only" />
		</javac>
	</target>
	
</project>
