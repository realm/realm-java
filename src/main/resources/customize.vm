#macro(file_header)
/* This file was automatically generated by TightDB. */

#end

#macro(indentation)    #end

#macro(table)
#java_header()
import com.tightdb.*;
import com.tightdb.lib.*;

/**
 * This class represents a TightDB table and was automatically generated.
 */
public class ${entity}Table extends AbstractTable<${entity}, ${entity}View> {

#foreach($f in $columns)
#if($f.code.attributes.isSubtable)
	public final ${f.code.attributes.columnType}Column<${entity}, ${entity}Query, ${f.code.attributes.subtable}> ${f.name} = new ${f.code.attributes.columnType}Column<${entity}, ${entity}Query, ${f.code.attributes.subtable}>(table, ${f.code.attributes.index}, "${f.name}", ${f.code.attributes.subtable}.class);
#else
	public final ${f.code.attributes.columnType}Column<${entity}, ${entity}Query> ${f.name} = new ${f.code.attributes.columnType}Column<${entity}, ${entity}Query>(table, ${f.code.attributes.index}, "${f.name}");
#end
#end

	public ${entity}Table() {
		super(${entity}.class, ${entity}View.class);
	}

	@Override
	protected void specifyStructure(TableSpec spec) {
#foreach($f in $columns)
#if($f.code.attributes.isSubtable)
        register${f.code.attributes.columnType}Column(spec, "${f.name}", new ${f.code.attributes.subtable}());
#else
        register${f.code.attributes.columnType}Column(spec, "${f.name}");
#end
#end
    }

#class_members()

}

#end

#macro(table_add)
try {
	int position = size();

#foreach($f in $columns)
#if($f.code.attributes.isSubtable)
	insert${f.code.attributes.columnType}(${f.code.attributes.index}, position);
#else
	insert${f.code.attributes.columnType}(${f.code.attributes.index}, position, ${f.name});
#end
#end
	insertDone();

	return cursor(position);
} catch (Exception e) {
	throw addRowException(e);
}
#end

#macro(table_insert)
try {
#foreach($f in $columns)
#if($f.code.attributes.isSubtable)
	insert${f.code.attributes.columnType}(${f.code.attributes.index}, position);
#else
	insert${f.code.attributes.columnType}(${f.code.attributes.index}, position, ${f.name});
#end
#end
	insertDone();

	return cursor(position);
} catch (Exception e) {
	throw insertRowException(e);
}

#end


#macro(view)
#java_header()
import com.tightdb.*;
import com.tightdb.lib.*;

/**
 * This class represents a TightDB view and was automatically generated.
 */
public class ${entity}View extends AbstractView<${entity}, ${entity}View> {

}
#end


#macro(query)
#java_header()
import com.tightdb.*;
import com.tightdb.lib.*;

/**
 * This class represents a TightDB query and was automatically generated.
 */
public class ${entity}Query extends AbstractQuery {

}
#end


#macro(cursor)
#java_header()
import com.tightdb.*;
import com.tightdb.lib.*;

/**
 * This class represents a TightDB cursor and was automatically generated.
 */
public class ${entity} extends AbstractCursor<${entity}> {

#foreach($f in $columns)
#if($f.code.attributes.isSubtable)
    public final ${f.code.attributes.columnType}CursorColumn<${entity}, ${entity}Query, ${f.code.attributes.subtable}> ${f.name};
#else
    public final ${f.code.attributes.columnType}CursorColumn<${entity}, ${entity}Query> ${f.name};
#end
#end

	public ${entity}(TableBase table, long position) {
		super(table, ${entity}.class, position);

#foreach($f in $columns)
#if($f.code.attributes.isSubtable)
        ${f.name} = new ${f.code.attributes.columnType}CursorColumn<${entity}, ${entity}Query, ${f.code.attributes.subtable}>(table, this, ${f.code.attributes.index}, "${f.name}", ${f.code.attributes.subtable}.class);
#else
        ${f.name} = new ${f.code.attributes.columnType}CursorColumn<${entity}, ${entity}Query>(table, this, ${f.code.attributes.index}, "${f.name}");
#end
#end
	}

#foreach($f in $columns)
#if($f.code.attributes.isSubtable)
	public ${f.code.attributes.subtable} get${f.name.capitalized}() {
#else
	public ${f.type.canonicalName} get${f.name.capitalized}() {
#end
		return this.${f.name}.get();
	}

#if($f.code.attributes.isSubtable)
	public void set${f.name.capitalized}(${f.code.attributes.subtable} ${f.name}) {
#else
	public void set${f.name.capitalized}(${f.type.canonicalName} ${f.name}) {
#end
		this.${f.name}.set(${f.name});
	}

#end
	@Override
	public AbstractColumn<?, ?, ?>[] columns() {
		return getColumnsArray(#list($columns, '${it.name}', ', '));
	}

}
#end

#macro(list $items $template $separator)
#foreach($it in $items)
#evaluate($template)#if($foreach.hasNext)$separator#end
#end
#end
