How to build tightdb-jni (on Linux):
======================================
1. Build and install tighdb
    - Follow README.md
2. Build java
    - sh build.sh build
    - sh build.sh test
3. Install java
    - sh build.sh install


How to build tightdb-jni (on Windows):
======================================
1. Build tightdb
	- Build tightdb as lib (currently with "#define MULTITHREAD 0" in Query.cpp)
	- Use "Batch Build" which builds all 4 versions, a debug and a release version for x32 and x64.
	
2. Build JNI dll's
	- Copy above tightdbXXX.lib to tightdb_jni/native/libs/
	- Update any .hpp files in /tightdb_jni/native/src to be identical to the ones in tightdb above
	- If any changes are made in the JNI interface, bump up the TIGHTDB_JNI_VERSION in com_tightdb_util.cpp
	- Use "Batch Build" to build all 4 dll versions. The dll's will be located in the base directory
	
3. Copy dll's to example
	-copy target/{"tightdb_jni32.dll", "tightdb_jni64.dll", "libtightdb-jni.so", "libtightdb.jnilib"} to example/lib


How to setup Eclipse:
=====================
1. Create workspace for Eclipse (alternatively, you can skip this step and use some existing workspace).
   a) Create "workspace" directory (outside the "tightdb_java" folder)
   b) Open Eclipse
   c) Point workspace to the newly created directory "workspace"

4. Import "tightdb_java".
   a) In Eclipse click on File -> Import
   b) Select "Existing Maven projects" as an import source
   c) Select the "tightdb_java" folder as root directory
   d) You should see 1 item in the projects list (e.g. /pom.xml - tightdb-parent...) with several sub-items, make sure they are all checked

5. Make sure the JDK6 (or JDK7) is installed and configured.
   a) Make sure you have JDK6 installed
   b) Make sure JDK6 is displayed on the list in Window -> Preferences -> Java -> Installed JREs.
      If it's not there, use the "Search" command on the same screen and navigate Eclipse to the folder where it was installed in
   c) Make sure the projects are configured to use the JDK6 by right-clicking them -> Properties -> (both Java Compiler and Java Build Path)

6. Build the jars (to produce tightdb.jar and tightdb-devkit.jar)
    - Right-click on tightdb_java -> Run as -> Maven install
   (the produced tightdb.jar file will be placed under tightdb_java/lib)
   (the produced tightdb-devkit.jar file will be placed under tightdb_java/lib)

7. Configure tightdb_java/lib/tightdb-devkit.jar as annotation processor (to be used for automatic code generation).
   (do the following steps for the tightdb-java-example and tightdb-java-test projects:) 
	- Right-click on the project -> Properties
	- Go to Java Compiler -> Annotation processing and enable annotation processing (check all the 3 check-boxes).  
	- In Java Compiler -> Annotation processing the "Generated source directory" can be configured as anything (e.g. "target/generated").
	- Go to Java Compiler -> Annotation processing -> Factory Path, add tightdb_java/lib/tightdb-devkit.jar (click on Add JARs) and make sure it is checked.

8. If the previous step was done properly, Eclipse will start generating Java source code as soon as you annotate your schema specification classes with the @DefineTable annotation.     


How to run Java tests:
======================
1. Execute unit test (from shell):
    sh build.sh test

2. Execute examples (from shell):
    ant build
    ant tutorial
    ant showcase
    ant performance
     
2. Execute unit tests (from Eclipse):
    a) Execute the unit tests in the project "tightdb-java-test", by right-clicking it -> Run As -> Maven test
   
3. Execute the examples(from Eclipse):
    a) Execute the any of the examples in the tightdb-java-example project, by right-clicking the java file 
      (under "src/main/java" -> "io.realm.example") and -> Run As -> Java Application


How to update Java bindings:
============================
1. Update/add Java methods with "native" keyword added

2. Generate .h files 
	a) In Eclipse:
	   Click the button next to the "Play": "External Tools" -> JNI-h-file-generation
	b) Or from cmd line: 
	   cd workspace (assuming it's located next to the tightdb_java)
	   javah -d ..\tightdb_java\tightdb-java-core\target\classes\jni io.realm.Group io.realm.TableBase io.realm.TableViewBase io.realm.TableQuery io.realm.util io.realm.SharedGroup


How to update Java tightdb-jars:
================================
1. Update REQUIRED_JNI_VERSION version to match TIGHTDB_JNI_VERSION (if any interface changes)

2. Build jar:
	- Run as, Maven Build..., Goal: package
	(generated jar files are placed under Target)
	
3. copy target/tightdb*.jar to example/lib



